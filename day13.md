# day13

字符替换

## 命令

`:[range]s/(要替换的字符串,可以是正则)/(替换后的字符串)/[flags]`

### range

- `%`：全文替换
- `$`: 尾部，如 `12,$`表示从12行到文件结尾
- `number,number`: 替换第几行到第几行

```js
console.log('hello hello')
console.log('hello hello')
console.log('ello Hello')
```

### flags

- g: 表示全部替换
  - 不加g的换，只会替换每一行匹配到的第一个字符串
- c: 替换前用户需要确定(交互式)
  - y: 替换，并跳到下一个匹配的值
  - n: 不处理，跳到下一个匹配的
  - a: 当前光标所在的匹配值以及后续所有值全部替换
  - q: 退出
  - l: 替换当前光标所在的匹配值，推出

这在代码中会经常使用到，因为有些时候需要替换部分字符串

### 可视化模式

选中后，点击`:`会自动将框选范围作为`range`，这时候只会替换框选里的字符串（更为精准）

点击`:`会自动加上`:'<,'>` 表示框选的头和尾

### 更多的flags

```bash
# 进入vim
vim

# 查看其他的flag
:help s_flags
```

### 大小写敏感

注意上面替换hello时，输入`:%s/hello/xixi`会吧`Hello`也匹配上, 具体如下操作

- `:%s/hello/xixi` : 不敏感
- `:%s/Hello/xixi` : 敏感
- `:%s/Hello\c/xixi` : 不敏感
- `:%s/hello\C/xixi` : 敏感

可以很容易得得出规律全用小写或者有大写加\c就是不敏感，有用到大写字母或者小写加\C就是敏感

## 多选模式

- gb: 类似vscode的ctrl+d，多选多个相同的字符串，进行编辑
  - 多选后，点击c，删除所有选中字符，进行键入
  - 多选后，点击esc，再点击i或a, 开始键入

这个功能也相当常用

这节课学完，一起vscode的替换和多选快捷键也可以扔掉了，